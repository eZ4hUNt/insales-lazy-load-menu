# Отложенная загрузка подкатегорий для бокового меню в InSales
Полезно в тех случаях, если в магазине очень много категорий и подкатегорий, в результате чего размер старниц сайта существенно выростает, а сам сайт грузится дольше.
Данная реализация меню применима как к десктопной, так и к мобильной версии. Нет необходимости дублировать его.
Сейчас вложенность меню 5. Можно увелить или уменьшить соотвественно.

Принцип следующий:
1. Выводим только подкатегории для текущей категории

# Внедрение модифицированного меню
1. Используем код из файла *"menu.liquid"* или подключаем его в то место, где необходимо вывести меню
2. Подключаем стили из файла *"styles.css"*
3. Подключаем скрипт *"menu.js"*
4. В некоторых случая придется использовать кастомизированный *"insales.ui.menu.js"*
**Внимание:** Меню кешируется. Поэтому до тех пор, пока оно не будет отлажено работать, необходимо отключить кэширование, убрав *{% cache cache_menu_key %}* и *{% endcache %}*

## Сам скрипт и пример на GitHub
https://github.com/eZ4hUNt/insales-lazy-load-menu/

Пример: https://www.ink-market.ru
